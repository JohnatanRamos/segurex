---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import Services from "../components/Services.astro";
import About from "../components/About.astro";
import KeyPoints from "../components/KeyPoints.astro";
import Plans from "../components/Plans.astro";
import Faq from "../components/Faq.astro";
import Location from "../components/Location.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
import FloatingWhatsAppButton from "../components/FloatingWhatsAppButton.astro";
import AnnouncementBar from "../components/AnnouncementBar.astro";
import "../styles/global.css";
---

<Layout>
  <AnnouncementBar />
  <Header />
  <main>
    <Hero />
    <Services />
    <About />
    <KeyPoints />
    <Plans />
    <Faq />
    <Location />
    <Contact />
  </main>
  <Footer />
  <FloatingWhatsAppButton />
</Layout>

<script>
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  mobileMenuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
  });

  

  // Smooth scrolling for navigation links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", (e) => {
      e.preventDefault();
      // Close mobile menu on click
      if (mobileMenu && !mobileMenu.classList.contains("hidden")) {
        mobileMenu.classList.add("hidden");
      }
      const href = (e.currentTarget as HTMLAnchorElement).getAttribute("href");
      if (href) {
        const target = document.querySelector(href);
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
          });
        }
      }
    });
  });

  // Scroll Animations
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("is-visible");
          observer.unobserve(entry.target);
        }
      });
    },
    {
      threshold: 0.1,
    }
  );

  document.querySelectorAll(".animate-on-scroll").forEach((element) => {
    observer.observe(element);
  });
</script>
